{"ast":null,"code":"import _regeneratorRuntime from\"D:/STREAMING_SITE/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/STREAMING_SITE/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/STREAMING_SITE/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/STREAMING_SITE/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/STREAMING_SITE/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/STREAMING_SITE/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _objectSpread from\"D:/STREAMING_SITE/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from'react';import{connect}from'react-redux';import{createStream,sucSnack,chkToken}from'../../actions';import StreamForm from'./StreamForm';import Snackbar from'@material-ui/core/Snackbar';import MuiAlert from'@material-ui/lab/Alert';import CircleLoader from\"react-spinners/CircleLoader\";import history from'../../history';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Alert(props){return/*#__PURE__*/_jsx(MuiAlert,_objectSpread({elevation:6,variant:\"filled\"},props));}var StreamCreate=/*#__PURE__*/function(_React$Component){_inherits(StreamCreate,_React$Component);var _super=_createSuper(StreamCreate);function StreamCreate(){var _this;_classCallCheck(this,StreamCreate);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={open:false,load:null};_this.handleClose=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event,reason){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(reason==='clickaway')){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_this.setState({open:false});_context.next=5;return _this.props.sucSnack(false);case 5:history.push('/');case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();_this.onSubmit=function(formValues){_this.props.createStream(formValues);_this.props.sucSnack(true);};return _this;}_createClass(StreamCreate,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({load:true});setTimeout(function(){_this2.setState({load:false});},2500);this.props.chkToken();}// FOR SNACKBARS\n},{key:\"render\",value:function render(){if(this.state.load){return/*#__PURE__*/_jsx(\"div\",{className:\"Loader\",children:/*#__PURE__*/_jsx(CircleLoader,{color:\"#66FCF1\",loading:this.state.load,size:50})});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"createStream\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"createForm\",children:[/*#__PURE__*/_jsx(\"h4\",{id:\"createLabel\",children:\"Create Stream\"}),/*#__PURE__*/_jsx(StreamForm,{onSubmit:this.onSubmit}),/*#__PURE__*/_jsx(Snackbar,{open:this.props.sucsnack,onClose:this.handleClose,children:/*#__PURE__*/_jsx(Alert,{onClose:this.handleClose,severity:\"success\",children:\"Stream Created\"})})]})});}}}]);return StreamCreate;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{sucsnack:state.sucsnack};};export default connect(mapStateToProps,{createStream:createStream,sucSnack:sucSnack,chkToken:chkToken})(StreamCreate);","map":{"version":3,"sources":["D:/STREAMING_SITE/client/src/component/streams/StreamCreate.js"],"names":["React","connect","createStream","sucSnack","chkToken","StreamForm","Snackbar","MuiAlert","CircleLoader","history","Alert","props","StreamCreate","state","open","load","handleClose","event","reason","setState","push","onSubmit","formValues","setTimeout","sucsnack","Component","mapStateToProps"],"mappings":"q9BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,YAAR,CAAsBC,QAAtB,CAA+BC,QAA/B,KAA8C,eAA9C,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CACA,MAAOC,CAAAA,OAAP,KAAoB,eAApB,C,wFAEA,QAASC,CAAAA,KAAT,CAAeC,KAAf,CAAsB,CAClB,mBAAO,KAAC,QAAD,gBAAU,SAAS,CAAE,CAArB,CAAwB,OAAO,CAAC,QAAhC,EAA6CA,KAA7C,EAAP,CACH,C,GACKC,CAAAA,Y,+VACFC,K,CAAM,CACFC,IAAI,CAAC,KADH,CAEFC,IAAI,CAAE,IAFJ,C,OAcNC,W,0FAAc,iBAAMC,KAAN,CAAaC,MAAb,uHACNA,MAAM,GAAK,WADL,kEAIV,MAAKC,QAAL,CAAc,CACVL,IAAI,CAAC,KADK,CAAd,EAJU,sBAOJ,OAAKH,KAAL,CAAWR,QAAX,CAAoB,KAApB,CAPI,QAQVM,OAAO,CAACW,IAAR,CAAa,GAAb,EARU,sD,yEAYdC,Q,CAAU,SAACC,UAAD,CAAc,CACpB,MAAKX,KAAL,CAAWT,YAAX,CAAwBoB,UAAxB,EACA,MAAKX,KAAL,CAAWR,QAAX,CAAoB,IAApB,EACH,C,yEAzBD,4BAAmB,iBACf,KAAKgB,QAAL,CAAc,CAACJ,IAAI,CAAC,IAAN,CAAd,EACAQ,UAAU,CAAC,UAAI,CACX,MAAI,CAACJ,QAAL,CAAc,CAACJ,IAAI,CAAC,KAAN,CAAd,EACH,CAFS,CAER,IAFQ,CAAV,CAGA,KAAKJ,KAAL,CAAWP,QAAX,GACH,CAGD;sBAkBA,iBAAQ,CACR,GAAG,KAAKS,KAAL,CAAWE,IAAd,CAAmB,CACf,mBACI,YAAK,SAAS,CAAC,QAAf,uBACA,KAAC,YAAD,EAAc,KAAK,CAAE,SAArB,CAAgC,OAAO,CAAE,KAAKF,KAAL,CAAWE,IAApD,CAA0D,IAAI,CAAE,EAAhE,EADA,EADJ,CAKH,CAND,IAOI,CACA,mBACA,YAAK,SAAS,CAAC,cAAf,uBACI,aAAK,SAAS,CAAC,YAAf,wBACA,WAAI,EAAE,CAAC,aAAP,2BADA,cAEA,KAAC,UAAD,EAAY,QAAQ,CAAE,KAAKM,QAA3B,EAFA,cAGA,KAAC,QAAD,EAAU,IAAI,CAAE,KAAKV,KAAL,CAAWa,QAA3B,CAAsC,OAAO,CAAE,KAAKR,WAApD,uBACI,KAAC,KAAD,EAAO,OAAO,CAAE,KAAKA,WAArB,CAAkC,QAAQ,CAAC,SAA3C,4BADJ,EAHA,GADJ,EADA,CAaH,CACA,C,0BAvDsBhB,KAAK,CAACyB,S,EA0DjC,GAAMC,CAAAA,eAAe,CAAC,QAAhBA,CAAAA,eAAgB,CAACb,KAAD,CAAS,CAC3B,MAAM,CACFW,QAAQ,CAAEX,KAAK,CAACW,QADd,CAAN,CAGH,CAJD,CAMA,cAAevB,CAAAA,OAAO,CAACyB,eAAD,CAAkB,CAACxB,YAAY,CAAZA,YAAD,CAAeC,QAAQ,CAARA,QAAf,CAAwBC,QAAQ,CAARA,QAAxB,CAAlB,CAAP,CAA4DQ,YAA5D,CAAf","sourcesContent":["import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {createStream, sucSnack,chkToken} from '../../actions'\r\nimport StreamForm from './StreamForm'\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport CircleLoader from \"react-spinners/CircleLoader\";\r\nimport history from '../../history'\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\nclass StreamCreate extends React.Component{\r\n    state={\r\n        open:false,\r\n        load: null\r\n    }\r\n    componentDidMount(){\r\n        this.setState({load:true})\r\n        setTimeout(()=>{\r\n            this.setState({load:false})\r\n        },2500)\r\n        this.props.chkToken()\r\n    }\r\n\r\n\r\n    // FOR SNACKBARS\r\n    handleClose = async(event, reason) => {\r\n        if (reason === 'clickaway') {\r\n          return;\r\n        }\r\n        this.setState({\r\n            open:false\r\n        })\r\n        await this.props.sucSnack(false)\r\n        history.push('/')\r\n    };\r\n\r\n\r\n    onSubmit =(formValues)=>{\r\n        this.props.createStream(formValues)\r\n        this.props.sucSnack(true)\r\n    }\r\n    \r\n    render(){\r\n    if(this.state.load){\r\n        return(\r\n            <div className=\"Loader\">\r\n            <CircleLoader color={\"#66FCF1\"} loading={this.state.load} size={50} />\r\n            </div>\r\n        )\r\n    }\r\n    else{\r\n        return(\r\n        <div className=\"createStream\">\r\n            <div className=\"createForm\">\r\n            <h4 id=\"createLabel\">Create Stream</h4>\r\n            <StreamForm onSubmit={this.onSubmit}/>\r\n            <Snackbar open={this.props.sucsnack}  onClose={this.handleClose}>\r\n                <Alert onClose={this.handleClose} severity=\"success\">\r\n                    Stream Created\r\n                </Alert>\r\n            </Snackbar>\r\n        </div>\r\n        </div>\r\n    )\r\n    }\r\n    }\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n    return{\r\n        sucsnack: state.sucsnack\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {createStream, sucSnack,chkToken})(StreamCreate)"]},"metadata":{},"sourceType":"module"}
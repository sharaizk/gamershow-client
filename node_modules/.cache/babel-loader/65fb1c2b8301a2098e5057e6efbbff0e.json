{"ast":null,"code":"import _classCallCheck from\"D:/STREAMING_SITE/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/STREAMING_SITE/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/STREAMING_SITE/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/STREAMING_SITE/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{fetchStreams,sucSnack,chkToken}from'../../actions';import Paper from'@material-ui/core/Paper';import CircleLoader from\"react-spinners/CircleLoader\";import{NavLink}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StreamList=/*#__PURE__*/function(_React$Component){_inherits(StreamList,_React$Component);var _super=_createSuper(StreamList);function StreamList(){var _this;_classCallCheck(this,StreamList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={load:null};return _this;}_createClass(StreamList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({load:true});this.props.fetchStreams();setTimeout(function(){_this2.setState({load:false});},1500);this.props.chkToken();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){if(this.props.sucsnack){this.props.sucSnack(false);}}// if user is same then show buttons\n},{key:\"renderAdmin\",value:function renderAdmin(stream){if(stream.userId===this.props.currentUserId){return/*#__PURE__*/_jsxs(\"div\",{id:\"adminBtns\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/streams/edit/\".concat(stream._id),id:\"edit\",children:\"Edit\"}),/*#__PURE__*/_jsx(NavLink,{exact:true,to:\"/streams/delete/\".concat(stream._id),id:\"del\",children:\"Delete\"})]});}}},{key:\"renderList\",value:function renderList(){var _this3=this;return this.props.stream.map(function(streams){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Paper,{elevation:0}),/*#__PURE__*/_jsx(Paper,{className:\"paperList\",children:/*#__PURE__*/_jsxs(\"div\",{style:{margin:'0px 25px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"streamDesc\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/streams/\".concat(streams._id),id:\"streamTitle\",children:streams.title}),/*#__PURE__*/_jsx(\"br\",{}),streams.description]}),_this3.renderAdmin(streams)]})}),/*#__PURE__*/_jsx(Paper,{elevation:3})]},streams._id);});}},{key:\"render\",value:function render(){if(this.state.load){return/*#__PURE__*/_jsx(\"div\",{className:\"Loader\",children:/*#__PURE__*/_jsx(CircleLoader,{color:\"#66FCF1\",loading:this.state.load,size:50})});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"renderList\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"labelHead\",children:\"STREAMS\"}),this.renderList()]});}}}]);return StreamList;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{stream:Object.values(state.stream),currentUserId:state.pauth.userId,sucsnack:state.sucsnack};};export default connect(mapStateToProps,{fetchStreams:fetchStreams,sucSnack:sucSnack,chkToken:chkToken})(StreamList);","map":{"version":3,"sources":["D:/STREAMING_SITE/client/src/component/streams/StreamList.js"],"names":["React","connect","fetchStreams","sucSnack","chkToken","Paper","CircleLoader","NavLink","StreamList","state","load","setState","props","setTimeout","sucsnack","stream","userId","currentUserId","_id","map","streams","margin","title","description","renderAdmin","renderList","Component","mapStateToProps","Object","values","pauth"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {fetchStreams, sucSnack, chkToken} from '../../actions'\r\nimport Paper from '@material-ui/core/Paper';\r\nimport CircleLoader from \"react-spinners/CircleLoader\";\r\nimport { NavLink} from 'react-router-dom'\r\n\r\nclass StreamList extends React.Component {\r\n    state={\r\n        load: null\r\n    }\r\n    componentDidMount(){\r\n        this.setState({load:true})\r\n        this.props.fetchStreams()\r\n        setTimeout(()=>{\r\n            this.setState({load:false})\r\n        },1500)\r\n        this.props.chkToken()\r\n\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        if(this.props.sucsnack){\r\n            this.props.sucSnack(false)\r\n        }\r\n    }\r\n\r\n    // if user is same then show buttons\r\n    renderAdmin(stream){\r\n        if(stream.userId === this.props.currentUserId){\r\n            return (\r\n                <div id=\"adminBtns\">\r\n                    <NavLink to={`/streams/edit/${stream._id}`} id=\"edit\">Edit</NavLink>\r\n                    <NavLink exact to={`/streams/delete/${stream._id}`} id=\"del\">Delete</NavLink>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    renderList(){\r\n        return this.props.stream.map(streams =>{\r\n            return(\r\n                <React.Fragment key={streams._id}>\r\n                <Paper elevation={0} />\r\n                <Paper\r\n                className=\"paperList\"\r\n                >\r\n                    <div style={{margin: '0px 25px'}}>\r\n                        <div className=\"streamDesc\">\r\n                        <NavLink to={`/streams/${streams._id}`} id=\"streamTitle\">\r\n                        {streams.title}\r\n                        </NavLink>\r\n                        <br/>\r\n                        {streams.description}\r\n                        </div>\r\n                        {this.renderAdmin(streams)}\r\n                    </div>\r\n                </Paper>\r\n                <Paper elevation={3} />\r\n                </React.Fragment>\r\n            )\r\n        })\r\n    }\r\n    render(){\r\n        if(this.state.load){\r\n            return(\r\n                <div className=\"Loader\">\r\n                <CircleLoader color={\"#66FCF1\"} loading={this.state.load} size={50} />\r\n                </div>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <div className=\"renderList\">\r\n                    <h4 className=\"labelHead\">STREAMS</h4>\r\n                    {this.renderList()}\r\n                </div>\r\n                )\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n    return {\r\n        stream: Object.values(state.stream),\r\n        currentUserId: state.pauth.userId,\r\n        sucsnack: state.sucsnack\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {fetchStreams,sucSnack,chkToken})(StreamList)"]},"metadata":{},"sourceType":"module"}
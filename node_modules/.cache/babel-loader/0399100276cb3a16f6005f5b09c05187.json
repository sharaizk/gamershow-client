{"ast":null,"code":"import _regeneratorRuntime from\"D:/STREAMING_SITE/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/STREAMING_SITE/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:/STREAMING_SITE/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/STREAMING_SITE/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/STREAMING_SITE/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/STREAMING_SITE/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _objectSpread from\"D:/STREAMING_SITE/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from'react';import{connect}from'react-redux';import{fetchStream,editStream,sucSnack,chkToken}from'../../actions';import StreamForm from'./StreamForm';import _ from'lodash';// SNACKBAR\nimport Snackbar from'@material-ui/core/Snackbar';import MuiAlert from'@material-ui/lab/Alert';import history from'../../history';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Alert(props){return/*#__PURE__*/_jsx(MuiAlert,_objectSpread({elevation:6,variant:\"filled\"},props));}var StreamEdit=/*#__PURE__*/function(_React$Component){_inherits(StreamEdit,_React$Component);var _super=_createSuper(StreamEdit);function StreamEdit(){var _this;_classCallCheck(this,StreamEdit);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleClose=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event,reason){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(reason==='clickaway')){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_this.setState({open:false});_context.next=5;return _this.props.sucSnack(false);case 5:history.push('/home');case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();_this.onSubmit=function(formValues){_this.props.editStream(_this.props.match.params.id,formValues);_this.props.sucSnack(true);};return _this;}_createClass(StreamEdit,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.chkToken();this.props.fetchStream(this.props.match.params.id);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"createStream\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"createForm\",children:[/*#__PURE__*/_jsx(\"h4\",{id:\"createLabel\",children:\"Edit Stream\"}),/*#__PURE__*/_jsx(StreamForm,{onSubmit:this.onSubmit,initialValues:_.pick(this.props.stream,'title','description')}),/*#__PURE__*/_jsx(Snackbar,{open:this.props.sucsnack,onClose:this.handleClose,children:/*#__PURE__*/_jsx(Alert,{onClose:this.handleClose,severity:\"success\",children:\"Stream edited succesfully\"})})]})});}}]);return StreamEdit;}(React.Component);var mapStateToProps=function mapStateToProps(state,ownProps){return{stream:state.stream[ownProps.match.params.id],sucsnack:state.sucsnack};};export default connect(mapStateToProps,{fetchStream:fetchStream,editStream:editStream,sucSnack:sucSnack,chkToken:chkToken})(StreamEdit);","map":{"version":3,"sources":["D:/STREAMING_SITE/client/src/component/streams/StreamEdit.js"],"names":["React","connect","fetchStream","editStream","sucSnack","chkToken","StreamForm","_","Snackbar","MuiAlert","history","Alert","props","StreamEdit","handleClose","event","reason","setState","open","push","onSubmit","formValues","match","params","id","pick","stream","sucsnack","Component","mapStateToProps","state","ownProps"],"mappings":"q9BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,WAAR,CAAqBC,UAArB,CAAgCC,QAAhC,CAAyCC,QAAzC,KAAwD,eAAxD,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CAEA;AACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,eAApB,C,wFACA,QAASC,CAAAA,KAAT,CAAeC,KAAf,CAAsB,CAClB,mBAAO,KAAC,QAAD,gBAAU,SAAS,CAAE,CAArB,CAAwB,OAAO,CAAC,QAAhC,EAA6CA,KAA7C,EAAP,CACH,C,GAGKC,CAAAA,U,uVAMFC,W,0FAAc,iBAAMC,KAAN,CAAaC,MAAb,uHACNA,MAAM,GAAK,WADL,kEAIV,MAAKC,QAAL,CAAc,CACVC,IAAI,CAAC,KADK,CAAd,EAJU,sBAOJ,OAAKN,KAAL,CAAWR,QAAX,CAAoB,KAApB,CAPI,QAQVM,OAAO,CAACS,IAAR,CAAa,OAAb,EARU,sD,yEAWdC,Q,CAAS,SAACC,UAAD,CAAc,CACnB,MAAKT,KAAL,CAAWT,UAAX,CAAsB,MAAKS,KAAL,CAAWU,KAAX,CAAiBC,MAAjB,CAAwBC,EAA9C,CAAkDH,UAAlD,EACA,MAAKT,KAAL,CAAWR,QAAX,CAAoB,IAApB,EACH,C,uEAlBD,4BAAmB,CACf,KAAKQ,KAAL,CAAWP,QAAX,GACA,KAAKO,KAAL,CAAWV,WAAX,CAAuB,KAAKU,KAAL,CAAWU,KAAX,CAAiBC,MAAjB,CAAwBC,EAA/C,EACH,C,sBAkBD,iBAAQ,CACJ,mBACI,YAAK,SAAS,CAAC,cAAf,uBACI,aAAK,SAAS,CAAC,YAAf,wBACA,WAAI,EAAE,CAAC,aAAP,yBADA,cAEA,KAAC,UAAD,EAAY,QAAQ,CAAE,KAAKJ,QAA3B,CAAqC,aAAa,CAAEb,CAAC,CAACkB,IAAF,CAAO,KAAKb,KAAL,CAAWc,MAAlB,CAA0B,OAA1B,CAAkC,aAAlC,CAApD,EAFA,cAGA,KAAC,QAAD,EAAU,IAAI,CAAE,KAAKd,KAAL,CAAWe,QAA3B,CAAsC,OAAO,CAAE,KAAKb,WAApD,uBACI,KAAC,KAAD,EAAO,OAAO,CAAE,KAAKA,WAArB,CAAkC,QAAQ,CAAC,SAA3C,uCADJ,EAHA,GADJ,EADJ,CAaH,C,wBArCoBd,KAAK,CAAC4B,S,EAwC/B,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAQC,QAAR,CAAoB,CACxC,MAAM,CACFL,MAAM,CAAEI,KAAK,CAACJ,MAAN,CAAaK,QAAQ,CAACT,KAAT,CAAeC,MAAf,CAAsBC,EAAnC,CADN,CAEFG,QAAQ,CAAEG,KAAK,CAACH,QAFd,CAAN,CAIH,CALD,CAOA,cAAgB1B,CAAAA,OAAO,CAAC4B,eAAD,CAAkB,CAAC3B,WAAW,CAAXA,WAAD,CAAcC,UAAU,CAAVA,UAAd,CAA0BC,QAAQ,CAARA,QAA1B,CAAmCC,QAAQ,CAARA,QAAnC,CAAlB,CAAP,CAAuEQ,UAAvE,CAAhB","sourcesContent":["import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {fetchStream, editStream,sucSnack,chkToken} from '../../actions'\r\nimport StreamForm from './StreamForm'\r\nimport _ from 'lodash'\r\n\r\n// SNACKBAR\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport history from '../../history'\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\n\r\nclass StreamEdit extends React.Component{\r\n\r\n    componentDidMount(){\r\n        this.props.chkToken()\r\n        this.props.fetchStream(this.props.match.params.id)\r\n    }\r\n    handleClose = async(event, reason) => {\r\n        if (reason === 'clickaway') {\r\n          return;\r\n        }\r\n        this.setState({\r\n            open:false\r\n        })\r\n        await this.props.sucSnack(false)\r\n        history.push('/home')\r\n    };\r\n\r\n    onSubmit=(formValues)=>{\r\n        this.props.editStream(this.props.match.params.id, formValues)\r\n        this.props.sucSnack(true)\r\n    }\r\n\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"createStream\">\r\n                <div className=\"createForm\">\r\n                <h4 id=\"createLabel\">Edit Stream</h4>\r\n                <StreamForm onSubmit={this.onSubmit} initialValues={_.pick(this.props.stream, 'title','description')}/>\r\n                <Snackbar open={this.props.sucsnack}  onClose={this.handleClose}>\r\n                    <Alert onClose={this.handleClose} severity=\"success\">\r\n                        Stream edited succesfully\r\n                    </Alert>\r\n                </Snackbar>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) =>{\r\n    return{\r\n        stream: state.stream[ownProps.match.params.id],\r\n        sucsnack: state.sucsnack\r\n    }\r\n}\r\n\r\nexport default  connect(mapStateToProps, {fetchStream, editStream, sucSnack,chkToken})(StreamEdit)"]},"metadata":{},"sourceType":"module"}